  
# Case 1

  create or replace procedure proc1(p_empno emp.empno%type)
  is
    v_sal emp.sal%type;
  begin
    select sal into v_sal
    from emp
    where empno = p_empno;

    dbms_output.put_line(v_sal);
  end;
  /

  exec proc1(7788)


# Case 2

  create or replace procedure proc1(p_empno emp.empno%type)
  is
    rec_emp emp%rowtype;
  begin
    select * into rec_emp
    from emp
    where empno = p_empno;

    dbms_output.put_line(rec_emp.ename);
    dbms_output.put_line(rec_emp.sal); 
    dbms_output.put_line(rec_emp.ename||', '||rec_emp.sal);
  end;
  /

  exec proc1(7788)


# Case 3

  create or replace procedure proc1(p_empno emp.empno%type)
  is
    TYPE emp_record_type IS RECORD
    (ename emp.ename%type,
     sal   emp.sal%type,
     job   emp.job%type);
    
     rec_emp emp_record_type;
  begin
    select ename, sal, job into rec_emp
    from emp
    where empno = p_empno;

    dbms_output.put_line(rec_emp.ename);
    dbms_output.put_line(rec_emp.sal); 
  end;
  /

  exec proc1(7788)

    ↓↓

  create or replace package emp_types_pack
  is
    TYPE emp_record_type IS RECORD
    (ename emp.ename%type,
     sal   emp.sal%type,
     job   emp.job%type);
  end;
  /

  grant execute
  on emp_types_pack
  to public;

  create or replace procedure proc1(p_empno emp.empno%type)
  is
     rec_emp emp_types_pack.emp_record_type;
  begin
    select ename, sal, job into rec_emp
    from emp
    where empno = p_empno;

    dbms_output.put_line(rec_emp.ename);
    dbms_output.put_line(rec_emp.sal); 
  end;
  /

  exec proc1(7788)

    ↓↓

  create or replace view v1
  as
  select ename, sal, job 
  from emp;

  create or replace procedure proc1(p_empno emp.empno%type)
  is
    rec_emp v1%rowtype;
  begin
    select ename, sal, job into rec_emp
    from emp
    where empno = p_empno;

    dbms_output.put_line(rec_emp.ename);
    dbms_output.put_line(rec_emp.sal); 
    dbms_output.put_line(rec_emp.ename||', '||rec_emp.sal);
  end;
  /

  exec proc1(7788)


# Case 4

  create or replace procedure proc1(p_deptno emp.deptno%type)
  is
    TYPE emp_sal_table_type IS TABLE OF emp.sal%type 
      INDEX BY pls_integer;

    emp_sal_tab emp_sal_table_type;
  begin
    select sal BULK COLLECT INTO emp_sal_tab
    from emp
    where deptno = p_deptno;

    dbms_output.put_line(emp_sal_tab.first);
    dbms_output.put_line(emp_sal_tab.last);
    dbms_output.put_line('-----');

    for i in emp_sal_tab.first .. emp_sal_tab.last loop
      dbms_output.put_line(emp_sal_tab(i));
    end loop;
  end;
  /

  show errors

  exec proc1(20)


# Case 5

  create or replace procedure proc1(p_deptno emp.deptno%type)
  is
    TYPE emp_table_type IS TABLE OF emp%rowtype
      INDEX BY pls_integer;

    emp_tab emp_table_type;
  begin
    select * BULK COLLECT INTO emp_tab
    from emp
    where deptno = p_deptno;

    for i in emp_tab.first .. emp_tab.last loop
      dbms_output.put_line(emp_tab(i).empno);
      dbms_output.put_line(emp_tab(i).ename);
      dbms_output.put_line('-----');
    end loop;
  end;
  /

  exec proc1(20)


# Case 6

  create or replace procedure proc1(p_deptno emp.deptno%type)
  is
    TYPE emp_record_type IS RECORD
    (empno emp.empno%type,
     ename emp.ename%type,
     sal   emp.sal%type,
     job   emp.job%type);

    TYPE emp_table_type IS TABLE OF emp_record_type
      INDEX BY pls_integer;

    emp_tab emp_table_type;
  begin
    select empno, ename, sal, job BULK COLLECT INTO emp_tab
    from emp
    where deptno = p_deptno;

    for i in emp_tab.first .. emp_tab.last loop
      dbms_output.put_line(emp_tab(i).empno);
      dbms_output.put_line(emp_tab(i).ename);
      dbms_output.put_line('-----');
    end loop;
  end;
  /

  exec proc1(20)


